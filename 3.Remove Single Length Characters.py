#!/usr/bin/env python
# coding: utf-8

# In[1]:


import os
import re

# Function to remove single-character words from a string
def remove_single_characters(text):
    # Use regular expression to remove single-character words
    return re.sub(r'\b\w\b', '', text)

root_folder = 'C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python311\\Scripts\\LSTM_IndividualSmali\\DB-5'

# Iterate through the root directory and its subfolders
for dirpath, dirnames, filenames in os.walk(root_folder):
    for filename in filenames:
        if filename.endswith('.smali'):  
            path1 = os.path.join(dirpath, filename)
            
            # Open and preprocess the file
            with open(path1, 'r',encoding='UTF-8', errors = 'ignore') as file:
                data = file.read()
                # Remove single-character words from the text
                data = remove_single_characters(data)
            
            # Write the modified data back to the file
            with open(path1, 'w',encoding='UTF-8', errors = 'ignore') as fr:
                fr.write(data)


# In[ ]:




