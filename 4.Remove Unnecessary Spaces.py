#!/usr/bin/env python
# coding: utf-8

# In[1]:


import os

root_folder = 'C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python311\\Scripts\\LSTM_IndividualSmali\\DB-5'

# Iterate through the root directory and its subfolders
for dirpath, dirnames, filenames in os.walk(root_folder):
    for filename in filenames:
        if filename.endswith('.smali'):  
            path1 = os.path.join(dirpath, filename)
            
            # Now, 'file_path' contains the full path to the text file
            # You can open and preprocess the file here as needed
            with open(path1, 'r',encoding='UTF-8', errors = 'ignore') as file:
                # Read the contents of the file
                data = file.read()

                # Remove leading and trailing whitespace from each line
                lines = [line.strip() for line in data.split('\n')]

                # Remove extra whitespace between words in each line
                cleaned_lines = [' '.join(line.split()) for line in lines]

                # Join the cleaned lines back into a single string
                cleaned_data = '\n'.join(cleaned_lines)

            # Write the cleaned data back to the file
            with open(path1, 'w',encoding='UTF-8', errors = 'ignore') as fr:
                fr.write(cleaned_data)


# In[2]:


import os

# Specify the root directory (replace 'root_folder' with your actual root folder)
root_folder = 'C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python311\\Scripts\\LSTM_IndividualSmali\\DB-5'

# Iterate through the root directory and its subfolders
for dirpath, dirnames, filenames in os.walk(root_folder):
    for filename in filenames:
        if filename.endswith('.smali'):  
            path1 = os.path.join(dirpath, filename)
            
            # Read the file and extract words from each line
            with open(path1, 'r',encoding='UTF-8', errors = 'ignore') as file:
                lines = file.readlines()  # Read all lines into a list

            # Extract words from each line and join them into a single line
            words = []
            for line in lines:
                # Split each line into words (assuming words are separated by whitespace)
                line_words = line.split()
                words.extend(line_words)

            # Join the extracted words into a single line
            result_line = ' '.join(words)

            # Write the result back to the same file
            with open(path1, 'w',encoding='UTF-8', errors = 'ignore') as fr:
                fr.write(result_line)


# In[ ]:




